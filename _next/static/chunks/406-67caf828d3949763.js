"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{709:function(e,t,n){n.d(t,{Z:function(){return H}});var o,i,r=n(5893),l=n(1953),s=n(7294),a=n(1719),h=n(9144),c=n(1401),d=n(1193),x=n(3831),u=n(8614);let p=(0,a.ZP)("div")(e=>{let{active:t,theme:n}=e;return{width:48,height:48,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",transition:"all 150ms",backgroundColor:t&&n.palette.primary.main,":hover":{backgroundColor:t?n.palette.primary.main:"#eee",...t?{filter:"brightness(95%)"}:{}}}}),g=(0,a.ZP)(p)(()=>({width:120}));var m=n(3963),f=n(5214),j=n(1284),b=n(5309);let v=["Arial","Impact","Verdana","Courier"],w=e=>{let{onChange:t,fontFamily:n}=e,[o,i]=(0,s.useState)(null),l=e=>{i(e.currentTarget)},a=()=>{i(null)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{onClick:l,sx:{fontFamily:n},children:n}),(0,r.jsx)(m.ZP,{open:!!o,anchorEl:o,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,r.jsx)(f.Z,{children:v.map(e=>(0,r.jsx)(j.ZP,{selected:e===n,disablePadding:!0,children:(0,r.jsx)(b.Z,{sx:{fontFamily:e},onClick:()=>t(e),children:e})},e))})})]})},y=e=>{let{onChange:t,fontSize:n}=e,[o,i]=(0,s.useState)(null),l=e=>{i(e.currentTarget)},a=()=>{i(null)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{onClick:l,sx:{fontSize:18},children:n}),(0,r.jsx)(m.ZP,{open:!!o,anchorEl:o,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,r.jsx)("input",{style:{margin:20,width:70,padding:5},type:"number",value:n,onChange:e=>t(+e.target.value)})})]})};var R=n(9630),Z=n(4373),L=n(2841),C=n(1362),z=n(3615);let S=e=>{let{onChange:t,color:n,shadowColor:o}=e,[i,a]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),x=e=>{d(e.currentTarget)},u=()=>{d(null)},g=e=>{a(e),e?t(n,o):t(n,"transparent")};return(0,s.useEffect)(()=>{o&&"transparent"!==o&&a(!0)},[o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{onClick:x,children:(0,r.jsx)(z.Z,{})}),(0,r.jsx)(m.ZP,{open:!!c,anchorEl:c,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,r.jsxs)(h.Z,{width:150,sx:{p:1},children:[(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(R.Z,{children:"Font color"}),(0,r.jsx)("input",{type:"color",value:n,onChange:e=>t(e.target.value,o)})]}),(0,r.jsx)(Z.Z,{sx:{my:1}}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(L.Z,{control:(0,r.jsx)(C.Z,{checked:i,onChange:()=>g(!i)}),label:"Shadow color"}),(0,r.jsx)("input",{type:"color",value:o,onChange:e=>t(n,e.target.value)})]})]})})]})};var D=n(4940),E=n(6704),P=n(5869);let k=e=>{let{onChange:t,textAlign:n}=e,[o,i]=(0,s.useState)(null),l=e=>{i(e.currentTarget)},a=()=>{i(null)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p,{onClick:l,sx:{textAlign:n},children:["left"===n&&(0,r.jsx)(D.Z,{}),"center"===n&&(0,r.jsx)(E.Z,{}),"right"===n&&(0,r.jsx)(P.Z,{})]}),(0,r.jsxs)(m.ZP,{open:!!o,anchorEl:o,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,r.jsx)(p,{onClick:()=>t("left"),children:(0,r.jsx)(D.Z,{})}),(0,r.jsx)(p,{onClick:()=>t("center"),children:(0,r.jsx)(E.Z,{})}),(0,r.jsx)(p,{onClick:()=>t("right"),children:(0,r.jsx)(P.Z,{})})]})]})},T=e=>{let{onChange:t,...n}=e;return(0,r.jsx)(l.Z,{position:"absolute",top:-90,children:(0,r.jsx)(h.Z,{gap:1,alignItems:"baseline",direction:"row",children:(0,r.jsxs)(c.Z,{elevation:4,sx:{display:"flex",my:2},children:[(0,r.jsx)(w,{fontFamily:n.fontFamily,onChange:e=>t({...n,fontFamily:e})}),(0,r.jsx)(y,{fontSize:n.fontSize,onChange:e=>t({...n,fontSize:e})}),(0,r.jsx)(p,{active:n.bold,onClick:()=>t({...n,bold:!n.bold}),children:(0,r.jsx)(d.Z,{fontSize:"large"})}),(0,r.jsx)(p,{active:n.underline,onClick:()=>t({...n,underline:!n.underline}),children:(0,r.jsx)(x.Z,{fontSize:"large"})}),(0,r.jsx)(p,{active:n.italic,onClick:()=>t({...n,italic:!n.italic}),children:(0,r.jsx)(u.Z,{fontSize:"large"})}),(0,r.jsx)(S,{color:n.color,shadowColor:n.shadowColor,onChange:(e,o)=>t({...n,color:e,shadowColor:o})}),(0,r.jsx)(k,{textAlign:n.textAlign,onChange:e=>t({...n,textAlign:e})})]})})})},B=(0,a.ZP)("div")(e=>{let{show:t}=e;return{display:t?"block":"none"}}),F=(0,a.ZP)("div")(e=>{let{left:t,right:n,top:o,bottom:i,theme:r}=e;return{width:16,height:16,borderRadius:8,...t?{left:-16}:{},...n?{right:-16}:{},...i?{bottom:-16}:{},...o?{top:-16}:{},cursor:"pointer",position:"absolute",backgroundColor:r.palette.primary.main}}),M=(0,a.ZP)("div")(e=>{let{left:t,right:n,top:o,bottom:i}=e;return{...t?{height:"100%",width:5,left:-5,top:0}:{},...n?{height:"100%",width:5,right:-5,top:0}:{},...i?{height:5,width:"100%",bottom:-5}:{},...o?{height:5,width:"100%",top:-5}:{},position:"absolute",opacity:"0.5",cursor:"grab",userSelect:"none"}});function I(e){let{text:t,width:n,height:o,initialLabel:a,onChange:h}=e,[c,d]=(0,s.useState)(""),[x,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[m,f]=(0,s.useState)(null),[j,b]=(0,s.useState)(null),v=e=>{h({...t,text:e.target.innerHTML})};(0,s.useEffect)(()=>{d(a||"")},[a]);let w=e=>t=>{b(e),g(t.pageX),f(t.pageY)};(0,s.useEffect)(()=>{null!==p?(window.addEventListener("pointerup",R),window.addEventListener("pointermove",y)):(window.removeEventListener("pointerup",R),window.removeEventListener("pointermove",y))},[p]);let y=e=>{h({...t,topLeft:{...t.topLeft,...[i.TopLeftResize,i.BottomLeftResize,i.Drag].includes(j)?{x:Math.max(0,Math.min(i.Drag===j?n-t.bottomRight.x+t.topLeft.x:t.bottomRight.x,t.topLeft.x+e.pageX-p))}:{},...[i.TopLeftResize,i.TopRightResize,i.Drag].includes(j)?{y:Math.max(0,Math.min(i.Drag===j?o-t.bottomRight.y+t.topLeft.y:t.bottomRight.y,t.topLeft.y+e.pageY-m))}:{}},bottomRight:{...t.bottomRight,...[i.TopRightResize,i.BottomRightResize,i.Drag].includes(j)?{x:Math.max(i.Drag===j?t.bottomRight.x-t.topLeft.x:t.topLeft.x,Math.min(n,t.bottomRight.x+e.pageX-p))}:{},...[i.BottomLeftResize,i.BottomRightResize,i.Drag].includes(j)?{y:Math.max(i.Drag===j?t.bottomRight.y-t.topLeft.y:t.topLeft.y,Math.min(o,t.bottomRight.y+e.pageY-m))}:{}}})},R=()=>{g(null),f(null),b(null),window.removeEventListener("pointerup",R),window.removeEventListener("pointermove",y)},Z=e=>{e.stopPropagation(),u(!0)},L=()=>{u(!1),window.removeEventListener("mousedown",L)};(0,s.useEffect)(()=>{if(x)return window.addEventListener("mousedown",L),()=>{window.removeEventListener("mousedown",L)}},[x]);let C=e=>{h({...t,styles:e})},{shadowColor:z}=t.styles;return(0,r.jsx)(l.Z,{position:"absolute",top:"0",left:"0",children:(0,r.jsxs)("div",{onMouseDown:Z,style:{position:"absolute",border:x||j?"1px dashed":"1px dashed transparent",left:t.topLeft.x,top:t.topLeft.y,width:t.bottomRight.x-t.topLeft.x,height:t.bottomRight.y-t.topLeft.y},children:[(x||!!j)&&(0,r.jsx)(T,{onChange:C,...t.styles}),(0,r.jsx)("div",{contentEditable:!0,onInput:v,suppressContentEditableWarning:!0,className:"editable-text",style:{width:t.bottomRight.x-t.topLeft.x,height:t.bottomRight.y-t.topLeft.y,fontSize:t.styles.fontSize,fontFamily:t.styles.fontFamily,textDecoration:t.styles.underline?"underline":"none",fontWeight:t.styles.bold?"bold":"normal",fontStyle:t.styles.italic?"italic":"normal",color:t.styles.color,textAlign:t.styles.textAlign,lineHeight:1.5,marginLeft:1,textShadow:"".concat(z," -1px 0px, ").concat(z," 0px 1px, ").concat(z," 1px 0px, ").concat(z," 0px -1px"),caretColor:"#4d90fe",outline:"0px solid transparent"},children:c}),(0,r.jsxs)(B,{show:x||!!j,children:[(0,r.jsx)(M,{top:!0,onPointerDown:w(i.Drag)}),(0,r.jsx)(M,{bottom:!0,onPointerDown:w(i.Drag)}),(0,r.jsx)(M,{left:!0,onPointerDown:w(i.Drag)}),(0,r.jsx)(M,{right:!0,onPointerDown:w(i.Drag)}),(0,r.jsx)(F,{left:!0,top:!0,onPointerDown:w(i.TopLeftResize)}),(0,r.jsx)(F,{right:!0,top:!0,onPointerDown:w(i.TopRightResize)}),(0,r.jsx)(F,{left:!0,bottom:!0,onPointerDown:w(i.BottomLeftResize)}),(0,r.jsx)(F,{right:!0,bottom:!0,onPointerDown:w(i.BottomRightResize)})]})]})})}(o=i||(i={}))[o.Drag=1]="Drag",o[o.TopLeftResize=2]="TopLeftResize",o[o.TopRightResize=3]="TopRightResize",o[o.BottomRightResize=4]="BottomRightResize",o[o.BottomLeftResize=5]="BottomLeftResize";var A=n(9321);let O=e=>{let{template:t,texts:n,onChange:o}=e,i=(0,s.useRef)(),[a,h]=(0,s.useState)(0),[c,d]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=i.current,n=e.getContext("2d");n.clearRect(0,0,e.width,e.height);let o=new Image;o.crossOrigin="anonymous",o.src=t.url,o.addEventListener("load",()=>{let t=o.width/A.v/2;e.height=o.height/t,h(o.width/t),d(o.height/t),n.drawImage(o,0,0,o.width/t,o.height/t)})},[t]),(0,s.useEffect)(()=>{t&&o([...t.texts])},[t]);let x=(e,t)=>{n[t]=e,o([...n])};return(0,r.jsx)(l.Z,{position:"relative",children:(0,r.jsxs)(l.Z,{position:"relative",children:[(0,r.jsx)("canvas",{ref:i,style:{width:A.v,height:"auto",boxShadow:"1px 1px 3px #ccc"},width:2*A.v,height:2*A.v}),null==n?void 0:n.map((e,o)=>{var i;return(0,r.jsx)(I,{height:c/2,width:a/2,text:e,initialLabel:(null===(i=t.texts[o])||void 0===i?void 0:i.text)||n[o].text,onChange:e=>x(e,o)},o)})]})})};var H=O},952:function(e,t,n){var o=n(5893),i=n(5084),r=n(754);let l=()=>(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(r.Z,{size:20})}),s=e=>{let{loader:t,children:n,...r}=e;return(0,o.jsx)(i.Z,{...r,disabled:t,children:t?(0,o.jsx)(l,{}):n})};t.Z=s},5493:function(e,t,n){n.d(t,{Z:function(){return h}});var o=n(5893),i=n(7294),r=n(2722),l=n(8661),s=n(1953);function a(e){let{children:t,value:n,index:i,...r}=e;return(0,o.jsx)("div",{role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...r,children:n===i&&(0,o.jsx)(s.Z,{sx:{p:3},children:t})})}function h(e){let{items:t}=e,[n,h]=i.useState(0),c=(e,t)=>{h(t)};return(0,o.jsxs)(s.Z,{sx:{width:"100%"},children:[(0,o.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,o.jsx)(r.Z,{value:n,onChange:c,"aria-label":"basic tabs example",children:t.map((e,t)=>(0,o.jsx)(l.Z,{label:e.label,id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)},e.label))})}),t.map((e,t)=>(0,o.jsx)(a,{value:n,index:t,children:e.render()},t))]})}},9321:function(e,t,n){n.d(t,{v:function(){return o}});let o=512},3053:function(e,t,n){var o,i;n.d(t,{K:function(){return o}}),(i=o||(o={})).PUBLISHED="published",i.UNPUBLISHED="unpublished"}}]);